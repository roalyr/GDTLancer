## CURRENT GOAL: Narrative Status UI Implementation

- TARGET_FILE: `src/core/ui/narrative_status/narrative_status_panel.gd` (NEW), `src/core/ui/narrative_status/narrative_status_panel.tscn` (NEW)
- TRUTH_RELIANCE:
  - `TRUTH_GDD-COMBINED-TEXT-frozen-2025-10-31.md` Section 2.1 Milestone 2: "Implement basic UI screens to display narrative stub info (Reputation, Sector Stats, Contact Dossier, Faction Standing)."
  - `TRUTH_GDD-COMBINED-TEXT-frozen-2025-10-31.md` Section 0.1 Glossary: "Reputation: A narrative stat tracking the player's professional standing", "Faction: A distinct political or corporate entity in the game world with which the player can gain or lose standing."
  - `TRUTH_GDD-COMBINED-TEXT-frozen-2025-10-31.md` Section 2.1 Phase 1 Vision: "building their Relationship score with Contacts" and "affect their Faction Standing"
- TECHNICAL_CONSTRAINTS:
  - Godot 3.x / GLES2 only
  - No `@export`, `@onready`, `await` syntax (Godot 4 syntax forbidden per TRUTH_CONSTRAINTS.md)
  - Use `export var` only in Resource template files, not UI scripts
  - UI scripts do not require unit tests (per Architecture-Coding.md Section 7)
  - Access data via stateless system APIs (CharacterSystem, etc.) or directly from GameState.narrative_state
  - Listen for relevant EventBus signals to update display reactively
  - Follow existing UI patterns in `src/core/ui/` directory

- ATOMIC_TASKS:
  - [ ] TASK_1: Create `src/core/ui/narrative_status/narrative_status_panel.tscn`
    - Scene structure: Panel with VBoxContainer containing Label nodes for each stat
    - Required nodes: `ReputationLabel`, `FactionContainer` (VBoxContainer for dynamic faction entries), `QuirksContainer` (VBoxContainer for active ship quirks)
    - Toggle visibility via key input or HUD button
  - [ ] TASK_2: Create `src/core/ui/narrative_status/narrative_status_panel.gd`
    - Signature: `extends Panel`
    - Required methods: `_ready()`, `update_display()`, `_on_visibility_toggled()`
    - Must read from `GameState.narrative_state.reputation`, `GameState.narrative_state.faction_standings`, and `QuirkSystem.get_quirks(ship_uid)`
    - Must connect to EventBus signals: `ship_quirk_added`, `ship_quirk_removed`, `player_wp_changed` (as proxy for state changes)
  - [ ] TASK_3: Add toggle keybind for Narrative Status panel
    - Location: Player input handling or MainHUD
    - Key: `Tab` or designated UI key (check existing keybinds for conflicts)
    - Action: Toggle visibility of NarrativeStatusPanel
  - [ ] TASK_4: Wire NarrativeStatusPanel into main game scene
    - Add as child of CanvasLayer UI hierarchy in `main_game_scene.tscn`
    - Initialize as hidden, toggled visible by player input
  - [ ] TASK_5: Display Sector Stats (Chronicle stub)
    - Add section to panel showing: Contracts Completed, Total WP Earned, Combat Encounters Survived
    - Data source: Add tracking counters to `GameState.narrative_state` if not present
  - [ ] VERIFICATION: Manual test in-game
    - Start game, press Tab (or assigned key) to toggle panel
    - Verify Reputation value displays correctly
    - Verify Faction Standings display (even if empty initially)
    - Verify Ship Quirks section shows active quirks (test by triggering failed Narrative Action(Edit: add debug button in character status window to trigger failed Narrative Action))
    - Verify panel updates reactively when state changes
